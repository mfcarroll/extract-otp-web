<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OTP Secret Extractor</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/src/style.css" />
  </head>

  <body>
    <div class="page-container">
      <div id="app">
        <h1>Google Authenticator OTP Secret Extractor</h1>

        <div id="info-tabs">
          <h2 class="tab-button active" data-tab="what">What is this?</h2>
          <div id="tab-what" class="tab-content active">
            <p>
              This tool extracts One-Time Password secrets from the Google
              Authenticator app. There is no software to install, and no data
              ever leaves your computer.
              <strong
                >All of the processing of your QR codes and secrets happens
                entirely locally, right here in your browser.</strong
              >
            </p>
          </div>

          <h2 class="tab-button" data-tab="use">How do I use it?</h2>
          <div id="tab-use" class="tab-content">
            <p>
              This tool reads the QR code screenshots from Google
              Authenticator's export feature and gives you back the original
              secret for each account. You can then use these secrets to import
              your accounts into any other authenticator app.
            </p>
            <h3>1. Export from Google Authenticator</h3>
            <ul>
              <li>Open the Google Authenticator app on your phone.</li>
              <li>
                Go to the menu and select "Transfer accounts" > "Export
                accounts".
              </li>
              <li>Select the accounts you wish to export.</li>
              <li>Take a screenshot of each QR code that is displayed.</li>
            </ul>
            <h3>2. Extract Secrets</h3>
            <ul>
              <li>
                Click "Select QR Code Image(s)" or drag and drop your
                screenshot(s) onto the page.
              </li>
            </ul>
            <h3>3. Use Your Secrets</h3>
            <ul>
              <li>
                The tool will display the extracted OTP secrets, each with its
                own QR code and secret key.
              </li>
              <li>
                You can now import these secrets into your preferred
                authenticator app or password manager.
              </li>
            </ul>
          </div>

          <h2 class="tab-button" data-tab="faq">FAQ</h2>
          <div id="tab-faq" class="tab-content">
            <div class="faq-item">
              <h3>
                <button
                  class="faq-button"
                  aria-expanded="false"
                  aria-controls="faq-1-answer"
                >
                  <span class="faq-title">Why is this needed?</span>
                </button>
              </h3>
              <div id="faq-1-answer" class="faq-answer">
                <p>
                  Google Authenticator lets you transfer your accounts to a new
                  phone, but it doesn't provide an easy way to export them to
                  other apps like 1Password or Bitwarden. This is because it
                  hides the original "secret" (the QR code you first scanned)
                  for each account.
                </p>
                <p>
                  Without these secrets, moving to a new password manager means
                  manually re-configuring 2FA for every single account, which is
                  a huge pain.
                </p>
                <p>
                  While other tools exist to solve this, they often require
                  technical steps like running scripts or installing software.
                  This tool is designed to be a simple, secure solution that
                  anyone can use.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <h3>
                <button
                  class="faq-button"
                  aria-expanded="false"
                  aria-controls="faq-2-answer"
                >
                  <span class="faq-title">How does it work?</span>
                </button>
              </h3>
              <div id="faq-2-answer" class="faq-answer">
                <p>
                  You provide screenshots of the QR codes from Google
                  Authenticator's export feature. This tool reads those QR
                  codes&mdash;right here in your browser&mdash;and gives you
                  back the original secret for each account. You can then use
                  these secrets to import your accounts into any other
                  authenticator app.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <h3>
                <button
                  class="faq-button"
                  aria-expanded="false"
                  aria-controls="faq-3-answer"
                >
                  <span class="faq-title"
                    >Is it safe to &ldquo;upload&rdquo; my QR codes?</span
                  >
                </button>
              </h3>
              <div id="faq-3-answer" class="faq-answer">
                <p>
                  Yes. Security and privacy are the top priorities.
                  <strong
                    >Nothing you do here ever leaves your computer.</strong
                  >
                  All processing happens locally, right in your browser. Your QR
                  code images and secrets are never sent to any server.
                </p>
                <p>
                  This tool is open-source and
                  <a
                    href="https://github.com/mfcarroll/extract-otp-web"
                    target="_blank"
                    >the code can be inspected by anyone</a
                  >
                  to verify its safety and methodology. It is hosted on GitHub
                  pages, providing a
                  <a
                    href="https://github.com/mfcarroll/extract-otp-web/deployments/github-pages"
                    target="_blank"
                    >secure and transparent deployment process</a
                  >.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <h3>
                <button
                  class="faq-button"
                  aria-expanded="false"
                  aria-controls="faq-4-answer"
                >
                  <span class="faq-title"
                    >Why doesn't 1Password import Google Authenticator codes
                    directly?</span
                  >
                </button>
              </h3>
              <div id="faq-4-answer" class="faq-answer">
                <p>
                  That's a great question, and one that
                  <a
                    href="https://www.1password.community/discussions/1password/import-all-google-authenticator-2fas-to-1password/38418"
                    target="_blank"
                  >
                    others</a
                  >
                  have
                  <a
                    href="https://www.reddit.com/r/1Password/comments/qm8v2i/add_existing_2fa_to_1password/"
                    target="_blank"
                    >asked</a
                  >. One reason given is a concern that Google's export format
                  might change. However, this format has been stable for years,
                  and other apps (like
                  <a href="https://github.com/beemdevelopment/Aegis"
                    >Aegis Authenticator</a
                  >) support it without issue. This tool uses the same simple,
                  stable methodology. It seems password managers like 1Password
                  <em>could</em> easily support direct imports, but have chosen
                  not to.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <h3>
                <button
                  class="faq-button"
                  aria-expanded="false"
                  aria-controls="faq-5-answer"
                >
                  <span class="faq-title">Who made this?</span>
                </button>
              </h3>
              <div id="faq-5-answer" class="faq-answer">
                <p>
                  This tool was created by
                  <a
                    href="https://www.linkedin.com/in/matthewfcarroll/"
                    target="_blank"
                    >Matthew Carroll</a
                  >, a developer who was frustrated with the process of
                  migrating OTP codes from Google Authenticator into 1Password.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <h3>
                <button
                  class="faq-button"
                  aria-expanded="false"
                  aria-controls="faq-6-answer"
                >
                  <span class="faq-title">Acknowledgements</span>
                </button>
              </h3>
              <div id="faq-6-answer" class="faq-answer">
                <p>
                  This tool was made possible by building on the work of several
                  open-source projects, including:
                </p>
                <ul>
                  <li>
                    <a
                      href="https://github.com/scito/extract_otp_secrets/#readme"
                      target="_blank"
                      >Extract OTP Secrets</a
                    >, the python script by
                    <a href="https://scito.ch/">Roland Kurmann</a>, on which
                    this tool is based.
                  </li>
                  <li>
                    <a
                      href="https://github.com/beemdevelopment/Aegis/#readme"
                      target="_blank"
                      >Aegis Authenticator</a
                    >, for the Google Authenticator export protobuf
                    specification.
                  </li>
                  <li>
                    <a
                      href="https://github.com/krissrex/google-authenticator-exporter/#readme"
                      target="_blank"
                      >Google Authenticator Exporter</a
                    >, another python script solution to the same problem.
                  </li>
                </ul>
                <p>
                  The development of this tool was made possible in part through
                  the support of
                  <a href="https://stand.earth/" target="_blank">Stand.earth</a
                  >. If you found this useful, and want to help protect the
                  people and places you love, please
                  <a href="https://stand.earth/donate/" target="_blank"
                    >consider making a donation</a
                  >
                  to support Stand's work.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="file-input-wrapper">
          <label
            for="qr-input"
            class="file-input-label"
            aria-label="Select QR Code Images"
          >
            <i class="fa fa-upload"></i> Select QR Code Image(s)
          </label>
          <div class="drop-text">or drag and drop files here</div>
          <div id="upload-log-container" style="display: none">
            <ul id="upload-log-list"></ul>
          </div>
          <input
            type="file"
            id="qr-input"
            accept="image/*"
            multiple
            @change="handleFileChange"
          />
        </div>

        <div id="error-message-container"></div>

        <canvas id="qr-canvas" style="display: none"></canvas>
        <div id="results-container"></div>

        <div id="export-container" style="display: none">
          <button id="download-csv-button">
            <i class="fa fa-download"></i> Save as CSV
          </button>
          <button id="clear-button">
            <i class="fa fa-trash"></i> Clear All
          </button>
        </div>
      </div>

      <footer>
        <div class="footer-content">
          <span
            >&copy; 2025
            <a
              href="https://www.linkedin.com/in/matthewfcarroll/"
              target="_blank"
              rel="noopener noreferrer"
              >Matthew Carroll</a
            ></span
          >
          <span class="footer-separator">|</span>
          <a
            href="https://github.com/mfcarroll/extract-otp-web"
            target="_blank"
            rel="noopener noreferrer"
            >Source Code</a
          >
          <span class="footer-separator">|</span>
          <div class="theme-switcher-wrapper">
            <div class="theme-switcher">
              <button data-theme="system" aria-label="Switch to system theme">
                <i class="fa fa-desktop"></i>
              </button>
              <button data-theme="light" aria-label="Switch to light theme">
                <i class="fa fa-sun"></i>
              </button>
              <button data-theme="dark" aria-label="Switch to dark theme">
                <i class="fa fa-moon"></i>
              </button>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <div id="qr-modal" class="modal-overlay" style="display: none">
      <span class="modal-close" role="button" aria-label="Close">&times;</span>
      <div id="modal-content"></div>
    </div>
    <div id="drag-overlay"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
